# Intersight Pools Deployment Module

## Use this module to create Pools in Intersight

## Usage

```hcl
module "pools" {

  source = "terraform-cisco-modules/easy-imm/intersight//modules/pools"

  # omitted...
}
```

This module will create Pool resources in Intersight.  These pools can be assigned to Policies and Profiles.  

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_intersight"></a> [intersight](#requirement\_intersight) | >=1.0.19 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_intersight"></a> [intersight](#provider\_intersight) | >=1.0.19 |

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_ip_pools"></a> [ip\_pools](#module\_ip\_pools) | terraform-cisco-modules/imm/intersight//modules/ip_pools | >=0.9.6 |
| <a name="module_iqn_pools"></a> [iqn\_pools](#module\_iqn\_pools) | terraform-cisco-modules/imm/intersight//modules/iqn_pools | >=0.9.6 |
| <a name="module_mac_pools"></a> [mac\_pools](#module\_mac\_pools) | terraform-cisco-modules/imm/intersight//modules/mac_pools | >=0.9.6 |
| <a name="module_resource_pools"></a> [resource\_pools](#module\_resource\_pools) | terraform-cisco-modules/imm/intersight//modules/resource_pools | >=0.9.6 |
| <a name="module_uuid_pools"></a> [uuid\_pools](#module\_uuid\_pools) | terraform-cisco-modules/imm/intersight//modules/uuid_pools | >=0.9.6 |
| <a name="module_wwnn_pools"></a> [wwnn\_pools](#module\_wwnn\_pools) | terraform-cisco-modules/imm/intersight//modules/fc_pools | >=0.9.6 |
| <a name="module_wwpn_pools"></a> [wwpn\_pools](#module\_wwpn\_pools) | terraform-cisco-modules/imm/intersight//modules/fc_pools | >=0.9.6 |

## Resources

| Name | Type |
|------|------|
| [intersight_organization_organization.org_moid](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/data-sources/organization_organization) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_apikey"></a> [apikey](#input\_apikey) | Intersight API Key. | `string` | n/a | yes |
| <a name="input_endpoint"></a> [endpoint](#input\_endpoint) | Intersight URL. | `string` | `"https://intersight.com"` | no |
| <a name="input_ip_pools"></a> [ip\_pools](#input\_ip\_pools) | key - Name of the IP Pool.<br>* Assignment order decides the order in which the next identifier is allocated.<br>  - default - (Default) Assignment order is decided by the system.<br>  - sequential - Identifiers are assigned in a sequential order.<br>* description - Description to Assign to the Pool.<br>* ipv4\_blocks - Map of Addresses to Assign to the Pool.<br>  - from - Starting IPv4 Address.<br>  - size - Size of the IPv4 Address Pool<br>  - to - Ending IPv4 Address.<br>* ipv4\_config - IPv4 Configuration to assign to the ipv4\_blocks.<br>  - gateway - Gateway to assign to the pool.<br>  - netmask - Netmask to assign to the pool.<br>  - primary\_dns = Primary DNS Server to Assign to the Pool<br>  - secondary\_dns = Secondary DNS Server to Assign to the Pool<br>* ipv6\_blocks - Map of Addresses to Assign to the Pool.<br>  - from - Starting IPv6 Address.<br>  - size - Size of the IPv6 Address Pool<br>  - to - Ending IPv6 Address.<br>* ipv6\_config - IPv6 Configuration to assign to the ipv6\_blocks.<br>  - gateway - Gateway to assign to the pool.<br>  - netmask - Netmask to assign to the pool.<br>  - primary\_dns = Primary DNS Server to Assign to the Pool<br>  - secondary\_dns = Secondary DNS Server to Assign to the Pool<br>* organization - Name of the Intersight Organization to assign this pool to.  Default is default.<br>  - https://intersight.com/an/settings/organizations/<br>* tags - List of Key/Value Pairs to Assign as Attributes to the Pool. | <pre>map(object(<br>    {<br>      assignment_order = optional(string)<br>      description      = optional(string)<br>      ipv4_blocks = optional(map(object(<br>        {<br>          from = string<br>          size = optional(number)<br>          to   = optional(string)<br>        }<br>      )))<br>      ipv4_config = optional(map(object(<br>        {<br>          gateway       = string<br>          netmask       = string<br>          primary_dns   = optional(string)<br>          secondary_dns = optional(string)<br>        }<br>      )))<br>      ipv6_blocks = optional(map(object(<br>        {<br>          from = string<br>          size = optional(number)<br>          to   = optional(string)<br>        }<br>      )))<br>      ipv6_config = optional(map(object(<br>        {<br>          gateway       = string<br>          prefix        = number<br>          primary_dns   = optional(string)<br>          secondary_dns = optional(string)<br>        }<br>      )))<br>      organization = optional(string)<br>      tags         = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "assignment_order": "default",<br>    "description": "",<br>    "ipv4_blocks": {},<br>    "ipv4_config": {},<br>    "ipv6_blocks": {},<br>    "ipv6_config": {},<br>    "organization": "default",<br>    "tags": []<br>  }<br>}</pre> | no |
| <a name="input_iqn_pools"></a> [iqn\_pools](#input\_iqn\_pools) | key - Name of the IQN Pool.<br>* Assignment order decides the order in which the next identifier is allocated.<br>  - default - (Default) Assignment order is decided by the system.<br>  - sequential - Identifiers are assigned in a sequential order.<br>* description - Description to Assign to the Pool.<br>* iqn\_blocks - Map of Addresses to Assign to the Pool.<br>  - from - Staring IQN Address.  An Exmaple is 0.<br>  - size - Size of the IQN Pool.  An Exmaple is 1000.<br>  - suffix - Suffix to assign to the IQN Pool.  An Exmaple is "ucs-host".<br>  - to - Ending IQN Address.  An Exmaple is 1000.<br>* organization - Name of the Intersight Organization to assign this pool to.  Default is default.<br>  - https://intersight.com/an/settings/organizations/<br>* prefix - The prefix for IQN blocks created for this pool.  The default is "iqn.1984-12.com.cisco".<br>* tags - List of Key/Value Pairs to Assign as Attributes to the Pool. | <pre>map(object(<br>    {<br>      assignment_order = optional(string)<br>      description      = optional(string)<br>      iqn_blocks = optional(map(object(<br>        {<br>          from   = string<br>          size   = optional(number)<br>          suffix = string<br>          to     = optional(string)<br>        }<br>      )))<br>      organization = optional(string)<br>      prefix       = optional(string)<br>      tags         = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "assignment_order": "default",<br>    "description": "",<br>    "iqn_blocks": {<br>      "default": {<br>        "from": 0,<br>        "size": 1000,<br>        "suffix": "ucs-host",<br>        "to": 1000<br>      }<br>    },<br>    "organization": "default",<br>    "prefix": "iqn.1984-12.com.cisco",<br>    "tags": []<br>  }<br>}</pre> | no |
| <a name="input_mac_pools"></a> [mac\_pools](#input\_mac\_pools) | key - Name of the MAC Pool.<br>* Assignment order decides the order in which the next identifier is allocated.<br>  - default - (Default) Assignment order is decided by the system.<br>  - sequential - Identifiers are assigned in a sequential order.<br>* description - Description to Assign to the Pool.<br>* mac\_blocks - Map of Addresses to Assign to the Pool.<br>  - from - Staring MAC Address.  An Example is "00:25:B5:0A:00:00".<br>  - size - Size of MAC Address Pool.  An Example is 1000.<br>  - to - Ending MAC Address.  An Example is "00:25:B5:0A:03:E7".<br>* organization - Name of the Intersight Organization to assign this pool to.  Default is default.<br>  - https://intersight.com/an/settings/organizations/<br>* tags - List of Key/Value Pairs to Assign as Attributes to the Pool. | <pre>map(object(<br>    {<br>      assignment_order = optional(string)<br>      description      = optional(string)<br>      mac_blocks = optional(map(object(<br>        {<br>          from = string<br>          size = optional(number)<br>          to   = optional(string)<br>        }<br>      )))<br>      organization = optional(string)<br>      tags         = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "assignment_order": "default",<br>    "description": "",<br>    "mac_blocks": {<br>      "default": {<br>        "from": "00:25:B5:0A:00:00",<br>        "size": 1000,<br>        "to": "00:25:B5:0A:03:E7"<br>      }<br>    },<br>    "organization": "default",<br>    "tags": []<br>  }<br>}</pre> | no |
| <a name="input_organizations"></a> [organizations](#input\_organizations) | Intersight Organization Names to Apply Policy to.  https://intersight.com/an/settings/organizations/. | `set(string)` | <pre>[<br>  "default"<br>]</pre> | no |
| <a name="input_resource_pools"></a> [resource\_pools](#input\_resource\_pools) | key - Name of the Resource Pool.<br>* Assignment order decides the order in which the next identifier is allocated.<br>  - default - (Default) Assignment order is decided by the system.<br>  - sequential - Identifiers are assigned in a sequential order.<br>* description - Description to Assign to the Pool.<br>* organization - Name of the Intersight Organization to assign this pool to.  Default is default.<br>  - https://intersight.com/an/settings/organizations/<br>* pool\_type - The resource management type in the pool, it can be either static or dynamic.<br>  - Dynamic - The resources in the pool will be updated dynamically based on the condition.<br>  - Static - The resources in the pool will not be changed until user manually update it.<br>* resource\_type - The type of the resource present in the pool, example 'server' its combination of RackUnit and Blade.<br>  - None - The resource cannot consider for Resource Pool.<br>  - Server - Resource Pool holds the server kind of resources, example - RackServer, Blade.<br>* serial\_number\_list - A List of Compute Serial Numbers to assign to the policy.  These must be the same type of server. Cannot be some blades and some rackmounts.<br>* server\_type - The Server type to add to the selection filter field.<br>  - Blades - A Blade Server.<br>  - RackUnits - A Rackmount Server.<br>* tags - List of Key/Value Pairs to Assign as Attributes to the Pool. | <pre>map(object(<br>    {<br>      assignment_order   = optional(string)<br>      description        = optional(string)<br>      organization       = optional(string)<br>      pool_type          = optional(string)<br>      resource_type      = optional(string)<br>      serial_number_list = set(string)<br>      server_type        = optional(string)<br>      tags               = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "assignment_order": "default",<br>    "description": "",<br>    "organization": "default",<br>    "pool_type": "Static",<br>    "resource_type": "Server",<br>    "serial_number_list": [<br>      "**REQUIRED**"<br>    ],<br>    "server_type": "Blades",<br>    "tags": []<br>  }<br>}</pre> | no |
| <a name="input_secretkey"></a> [secretkey](#input\_secretkey) | Intersight Secret Key. | `string` | n/a | yes |
| <a name="input_tags"></a> [tags](#input\_tags) | Tags to be Associated with Objects Created in Intersight. | `list(map(string))` | `[]` | no |
| <a name="input_uuid_pools"></a> [uuid\_pools](#input\_uuid\_pools) | key - Name of the UUID Pool.<br>* Assignment order decides the order in which the next identifier is allocated.<br>  - default - (Default) Assignment order is decided by the system.<br>  - sequential - Identifiers are assigned in a sequential order.<br>* description - Description to Assign to the Pool.<br>* prefix - Prefix to assign to the UUID Pool..  The default is "000025B5-0000-0000".<br>* uuid\_blocks - Map of Addresses to Assign to the Pool.<br>  - from - Starting UUID Address.  An Example is "0000-000000000000".<br>  - size - Size of UUID Pool.  An Example is 1000.<br>  - to - Ending UUID Address.  An Example is "0000-0000000003E7".<br>* organization - Name of the Intersight Organization to assign this pool to.  Default is default.<br>  - https://intersight.com/an/settings/organizations/<br>* tags - List of Key/Value Pairs to Assign as Attributes to the Pool. | <pre>map(object(<br>    {<br>      assignment_order = optional(string)<br>      description      = optional(string)<br>      organization     = optional(string)<br>      prefix           = optional(string)<br>      tags             = optional(list(map(string)))<br>      uuid_blocks = optional(map(object(<br>        {<br>          from = string<br>          size = optional(number)<br>          to   = optional(string)<br>        }<br>      )))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "assignment_order": "default",<br>    "description": "",<br>    "organization": "default",<br>    "prefix": "000025B5-0000-0000",<br>    "tags": [],<br>    "uuid_blocks": {<br>      "default": {<br>        "from": "0000-000000000000",<br>        "size": 1000,<br>        "to": "0000-0000000003E7"<br>      }<br>    }<br>  }<br>}</pre> | no |
| <a name="input_wwnn_pools"></a> [wwnn\_pools](#input\_wwnn\_pools) | key - Name of the Fibre-Channel Pool.<br>* Assignment order decides the order in which the next identifier is allocated.<br>  - default - Assignment order is decided by the system - Default value.<br>  - sequential - Identifiers are assigned in a sequential order.<br>* description - Description to Assign to the Pool.<br>* id\_blocks - Map of Addresses to Assign to the Pool.<br>  - from - Staring WWxN Address.  An Example is "20:00:00:25:B5:00:00:00".<br>  - size - Size of WWxN Pool.  An Example is 1000.<br>  - to - Ending WWxN Address.  An Example is "20:00:00:25:B5:00:03:E7".<br>* pool\_purpose - What type of Fiber-Channel Pool is this.  Options are:<br>  - WWNN - (Default)<br>  - WWPN<br>* organization - Name of the Intersight Organization to assign this pool to.  Default is default.<br>  - https://intersight.com/an/settings/organizations/<br>* tags - List of Key/Value Pairs to Assign as Attributes to the Pool. | <pre>map(object(<br>    {<br>      assignment_order = optional(string)<br>      description      = optional(string)<br>      id_blocks = optional(map(object(<br>        {<br>          from = string<br>          size = optional(number)<br>          to   = optional(string)<br>        }<br>      )))<br>      organization = optional(string)<br>      pool_purpose = optional(string)<br>      tags         = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "assignment_order": "default",<br>    "description": "",<br>    "id_blocks": {<br>      "default": {<br>        "from": "20:00:00:25:B5:00:00:00",<br>        "size": 1000,<br>        "to": "20:00:00:25:B5:00:03:E7"<br>      }<br>    },<br>    "organization": "default",<br>    "pool_purpose": "WWNN",<br>    "tags": []<br>  }<br>}</pre> | no |
| <a name="input_wwpn_pools"></a> [wwpn\_pools](#input\_wwpn\_pools) | key - Name of the Fibre-Channel Pool.<br>* Assignment order decides the order in which the next identifier is allocated.<br>  - default - Assignment order is decided by the system - Default value.<br>  - sequential - Identifiers are assigned in a sequential order.<br>* description - Description to Assign to the Pool.<br>* id\_blocks - Map of Addresses to Assign to the Pool.<br>  - from - Staring WWxN Address.  An Example is "20:00:00:25:B5:0A:00:00".<br>  - size - Size of WWxN Pool.  An Example is 1000.<br>  - to - Ending WWxN Address.  An Example is "20:00:00:25:B5:0A:03:E7".<br>* pool\_purpose - What type of Fiber-Channel Pool is this.  Options are:<br>  - WWNN<br>  - WWPN - (Default)<br>* organization - Name of the Intersight Organization to assign this pool to.  Default is default.<br>  - https://intersight.com/an/settings/organizations/<br>* tags - List of Key/Value Pairs to Assign as Attributes to the Pool. | <pre>map(object(<br>    {<br>      assignment_order = optional(string)<br>      description      = optional(string)<br>      id_blocks = optional(map(object(<br>        {<br>          from = string<br>          size = optional(number)<br>          to   = optional(string)<br>        }<br>      )))<br>      organization = optional(string)<br>      pool_purpose = optional(string)<br>      tags         = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "assignment_order": "default",<br>    "description": "",<br>    "id_blocks": {<br>      "default": {<br>        "from": "20:00:00:25:B5:0A:00:00",<br>        "size": 1000,<br>        "to": "20:00:00:25:B5:0A:03:E7"<br>      }<br>    },<br>    "organization": "default",<br>    "pool_purpose": "WWPN",<br>    "tags": []<br>  }<br>}</pre> | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_ip_pools"></a> [ip\_pools](#output\_ip\_pools) | moid of the IP Pools. |
| <a name="output_iqn_pools"></a> [iqn\_pools](#output\_iqn\_pools) | moid of the IQN Pools. |
| <a name="output_mac_pools"></a> [mac\_pools](#output\_mac\_pools) | moid of the MAC Pools. |
| <a name="output_resource_pools"></a> [resource\_pools](#output\_resource\_pools) | moid of the UUID Pools. |
| <a name="output_uuid_pools"></a> [uuid\_pools](#output\_uuid\_pools) | moid of the UUID Pools. |
| <a name="output_wwnn_pools"></a> [wwnn\_pools](#output\_wwnn\_pools) | moid of the Fibre-Channel WWNN Pools. |
| <a name="output_wwpn_pools"></a> [wwpn\_pools](#output\_wwpn\_pools) | moid of the Fibre-Channel WWPN Pools. |
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
